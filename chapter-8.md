# 软件测试

## 测试

### 定义

测试：为了发现错误而执行程序的过程。

* 目的：发现程序的错误。
* 任务：通过在计算机上执行程序，暴露程序中潜在的错误。

注意和调试（Debugging）相区分：

* 目的：定位和纠正错误。
* 任务：消除已知的软件故障，保证程序的可靠运行。

测试和调试时两码事。测试发现软件的错误，然后通过调试纠正之。

软件开发各个阶段都可能引发错误。更具体的定义如下：

* 错误（Error），差错：计算的、观察的、测量的值（条件）与实际的、规定的、理论的值（条件）之间的差别、不正确的执行步骤、过程、数据定义等。
* 缺陷（Defect）：错误的外部显示，错误的表现，即对软件产品预期属性的偏离。
* 故障（Fault）：软件的缺陷引发故障。
* 失效（Failure）：当一个故障被执行时，连环导致的失效问题，即系统或部件不能按照规定的性能要求执行其功能。
* 事故（Incident）：出现失效後引发的事故，造成实际的损失和伤害。

从上到下依次环环相扣。

### 原则

* 所有的测试都应该追溯到需求。
* 不可能穷举所有的测试。
* 根据软件错误的聚集性规律，应该对关键程序段做重点测试。
* 尽早开始软件测试，不断进行软件测试。
* 不要测试自己的程序。
* 要制定测试计划。
* 从小到大地进行测试。

### 策略

开发活动自顶向下构成这样的关系：

* 需求规约
* 概要设计
* 详细设计
* 编码

于是同样地，测试自底向上地可以追溯成：

* 编码
* 单元测试（和详细设计对应）
* 集成测试（和概要设计对应）
* 系统测试（和需求规约对应）

### 单元测试

也叫做模块测试。

针对软件结构中独立的基本单元进行的测试。

> 基本单元在结构化编程语言中是函数、子过程；在 OOP 语言中，则是类。

单元测试应当看作是编码的一部分，应该由程序员自己完成。

### 集成测试

也叫做组装测试。

根据设计将各个模块组装起来，进行有序、递增的测试。

* 穿越接口的数据是否丢失？
* 软件单元之间是否影响彼此的功能？
* 子功能组合起来能否完成要求的父功能？
* 全局数据结构有没有问题？
* 误差和问题是否会累积？

### 系统测试

在集成测试完成之后，对整个软件系统进行一系列的测试。

主要目的是验证系统是否满足了需求规约。

一般由和开发人员无关的独立方负责。

### 技术

从一开始可以分为「白盒测试」和「黑盒测试」。

白盒测试，就是在了解软件的设计和代码的基础上进行的测试。

黑盒测试，就是在看不到设计、代码的基础上进行的测试。

* 白盒测试包括：
	* 控制流测试
	* 基本路径测试
	* 数据流测试
* 黑盒测试包括：
	* 等价类划分
	* 边界值分析
	* 随机测试
	* 因果图/判定表
	* 基于有限状态机的测试
	* 基于形式化规约的测试
	* Web 系统的测试
	* GUI 测试
	* 协议一致性测试
	* 实时系统测试
* 还有黑盒白盒都能做的测试：
	* 即兴测试
	* 探索式测试
	* 错误猜测
	* 编译测试
	* OOP 测试
	* 基于构件的测试
	* 开发程序的测试

### 覆盖

* 语句覆盖：要求在测试集能够保证所有语句至少执行一次
* 判定覆盖：要求每个判定条件的真或假都被判定一次
* 条件覆盖：每个判定的条件都被取得一次
* 判定/条件覆盖：同时满足判定覆盖和条件覆盖
* 条件组合覆盖：要求每个条件成立与否的指数种组合情况都被判定一次

> 注意区分判定和条件：条件，指的是类似于 `a > b` 这样的简单逻辑；而具体的判定则可能是多个条件的组合。
>
> 因此，条件覆盖比判定覆盖要强。

* 路径覆盖：所有程序可能执行的路径都覆盖到

